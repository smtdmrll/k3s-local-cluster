<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 820" font-family="Segoe UI, Helvetica, Arial, sans-serif">
  <defs>
    <filter id="shadow" x="-2%" y="-2%" width="104%" height="104%">
      <feDropShadow dx="1" dy="2" stdDeviation="3" flood-opacity="0.12"/>
    </filter>
    <linearGradient id="gTitle" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#4A90D9"/>
      <stop offset="100%" stop-color="#8E44AD"/>
    </linearGradient>
    <linearGradient id="gCI" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#263238"/>
      <stop offset="100%" stop-color="#37474F"/>
    </linearGradient>
  </defs>

  <!-- Background -->
  <rect width="1400" height="820" rx="12" fill="#F7F8FA"/>

  <!-- Title -->
  <rect x="280" y="12" width="840" height="40" rx="8" fill="url(#gTitle)" filter="url(#shadow)"/>
  <text x="700" y="38" text-anchor="middle" fill="#fff" font-size="18" font-weight="700">K3s Local Kubernetes Cluster Architecture</text>

  <!-- VM Box -->
  <rect x="30" y="60" width="1340" height="700" rx="10" fill="none" stroke="#90A4AE" stroke-width="2" stroke-dasharray="6 3"/>
  <rect x="340" y="55" width="720" height="24" rx="6" fill="#E8ECF0"/>
  <text x="700" y="72" text-anchor="middle" fill="#37474F" font-size="11">Ubuntu 24.04 LTS · 4 GB RAM · 2 vCPU · 40 GB · VirtualBox · 192.168.1.125</text>

  <!-- K3s Box -->
  <rect x="50" y="92" width="1300" height="520" rx="8" fill="#EBF3FE" stroke="#4A90D9" stroke-width="2"/>
  <rect x="60" y="98" width="280" height="22" rx="5" fill="#4A90D9"/>
  <text x="200" y="114" text-anchor="middle" fill="#fff" font-size="11" font-weight="700">K3s v1.34 · Single-Node · Helm v3.20</text>

  <!-- ======== NAMESPACE: postgres ======== -->
  <rect x="70" y="135" width="360" height="240" rx="8" fill="#fff" stroke="#27AE60" stroke-width="2" filter="url(#shadow)"/>
  <rect x="80" y="143" width="130" height="20" rx="4" fill="#27AE60"/>
  <text x="145" y="158" text-anchor="middle" fill="#fff" font-size="10" font-weight="700">namespace: postgres</text>
  <!-- Pod -->
  <rect x="100" y="185" width="190" height="45" rx="6" fill="#E8F5E9" stroke="#27AE60" stroke-width="1.5"/>
  <text x="195" y="213" text-anchor="middle" fill="#1a1a1a" font-size="13" font-weight="700">PostgreSQL 18</text>
  <!-- PVC -->
  <ellipse cx="355" cy="195" rx="30" ry="10" fill="#FFF3E0" stroke="#F5A623" stroke-width="1.5"/>
  <rect x="325" y="195" width="60" height="25" fill="#FFF3E0" stroke="#F5A623" stroke-width="1.5"/>
  <ellipse cx="355" cy="220" rx="30" ry="10" fill="#FFF3E0" stroke="#F5A623" stroke-width="1.5"/>
  <text x="355" y="214" text-anchor="middle" fill="#4a4a4a" font-size="9" font-weight="600">PVC 8Gi</text>
  <!-- Arrow pod->pvc -->
  <line x1="290" y1="207" x2="323" y2="207" stroke="#F5A623" stroke-width="1.5" marker-end="url(#arrowOrange)"/>
  <!-- Service -->
  <rect x="110" y="260" width="160" height="26" rx="5" fill="#FDEDEC" stroke="#E74C3C" stroke-width="1.5"/>
  <text x="190" y="278" text-anchor="middle" fill="#C0392B" font-size="10" font-weight="700">NodePort :30432</text>
  <!-- Backup note -->
  <rect x="100" y="320" width="170" height="18" rx="4" fill="#FFF9C4"/>
  <text x="185" y="333" text-anchor="middle" fill="#6D4C00" font-size="9">Daily Backup 02:00 UTC</text>
  <!-- Arrow svc->pod -->
  <line x1="190" y1="260" x2="190" y2="230" stroke="#E74C3C" stroke-width="1.5"/>
  <polygon points="186,233 190,225 194,233" fill="#E74C3C"/>

  <!-- ======== NAMESPACE: redis ======== -->
  <rect x="470" y="135" width="360" height="240" rx="8" fill="#fff" stroke="#E67E22" stroke-width="2" filter="url(#shadow)"/>
  <rect x="480" y="143" width="115" height="20" rx="4" fill="#E67E22"/>
  <text x="537" y="158" text-anchor="middle" fill="#fff" font-size="10" font-weight="700">namespace: redis</text>
  <!-- Pod -->
  <rect x="500" y="185" width="190" height="45" rx="6" fill="#FFF3E0" stroke="#E67E22" stroke-width="1.5"/>
  <text x="595" y="213" text-anchor="middle" fill="#1a1a1a" font-size="13" font-weight="700">Redis 8.4</text>
  <!-- PVC -->
  <ellipse cx="755" cy="195" rx="30" ry="10" fill="#FFF3E0" stroke="#F5A623" stroke-width="1.5"/>
  <rect x="725" y="195" width="60" height="25" fill="#FFF3E0" stroke="#F5A623" stroke-width="1.5"/>
  <ellipse cx="755" cy="220" rx="30" ry="10" fill="#FFF3E0" stroke="#F5A623" stroke-width="1.5"/>
  <text x="755" y="214" text-anchor="middle" fill="#4a4a4a" font-size="9" font-weight="600">PVC 2Gi</text>
  <!-- Arrow pod->pvc -->
  <line x1="690" y1="207" x2="723" y2="207" stroke="#F5A623" stroke-width="1.5"/>
  <!-- Service -->
  <rect x="510" y="260" width="160" height="26" rx="5" fill="#FDEDEC" stroke="#E74C3C" stroke-width="1.5"/>
  <text x="590" y="278" text-anchor="middle" fill="#C0392B" font-size="10" font-weight="700">NodePort :30379</text>
  <!-- Arrow svc->pod -->
  <line x1="590" y1="260" x2="590" y2="230" stroke="#E74C3C" stroke-width="1.5"/>
  <polygon points="586,233 590,225 594,233" fill="#E74C3C"/>

  <!-- ======== NAMESPACE: login-app ======== -->
  <rect x="870" y="135" width="360" height="240" rx="8" fill="#fff" stroke="#8E44AD" stroke-width="2" filter="url(#shadow)"/>
  <rect x="880" y="143" width="140" height="20" rx="4" fill="#8E44AD"/>
  <text x="950" y="158" text-anchor="middle" fill="#fff" font-size="10" font-weight="700">namespace: login-app</text>
  <!-- Pod -->
  <rect x="900" y="185" width="210" height="45" rx="6" fill="#F3E5F5" stroke="#8E44AD" stroke-width="1.5"/>
  <text x="1005" y="207" text-anchor="middle" fill="#1a1a1a" font-size="12" font-weight="700">Login App</text>
  <text x="1005" y="222" text-anchor="middle" fill="#555" font-size="9">Flask + Gunicorn</text>
  <!-- Service -->
  <rect x="920" y="260" width="160" height="26" rx="5" fill="#FDEDEC" stroke="#E74C3C" stroke-width="1.5"/>
  <text x="1000" y="278" text-anchor="middle" fill="#C0392B" font-size="10" font-weight="700">NodePort :30080</text>
  <!-- Image tag -->
  <rect x="910" y="320" width="190" height="18" rx="4" fill="#E3F2FD"/>
  <text x="1005" y="333" text-anchor="middle" fill="#1565C0" font-size="9">sametdemirel/login-app:1.0.1</text>
  <!-- Arrow svc->pod -->
  <line x1="1000" y1="260" x2="1000" y2="230" stroke="#E74C3C" stroke-width="1.5"/>
  <polygon points="996,233 1000,225 1004,233" fill="#E74C3C"/>

  <!-- ======== DATA FLOW ARROWS ======== -->
  <!-- App -> Redis (horizontal) -->
  <line x1="900" y1="207" x2="692" y2="207" stroke="#E67E22" stroke-width="2.5" stroke-dasharray="6 2"/>
  <polygon points="694,203 686,207 694,211" fill="#E67E22"/>
  <rect x="755" y="178" width="100" height="18" rx="4" fill="#FFF3E0"/>
  <text x="805" y="191" text-anchor="middle" fill="#E67E22" font-size="9" font-weight="700">Cache Sessions</text>

  <!-- App -> PG (routed below both) -->
  <polyline points="930,230 930,310 460,310 460,230 290,230 290,213" fill="none" stroke="#27AE60" stroke-width="2.5" stroke-dasharray="6 2"/>
  <polygon points="286,216 290,208 294,216" fill="#27AE60"/>
  <rect x="605" y="300" width="130" height="18" rx="4" fill="#E8F5E9"/>
  <text x="670" y="313" text-anchor="middle" fill="#27AE60" font-size="9" font-weight="700">Persist User Data</text>

  <!-- ======== INFRA ROW (positioned between arrow paths) ======== -->
  <!-- Sealed Secrets: between x=190 and x=590 arrows -->
  <rect x="70" y="420" width="260" height="75" rx="6" fill="#fff" stroke="#455A64" stroke-width="1.5" filter="url(#shadow)"/>
  <rect x="80" y="428" width="80" height="18" rx="4" fill="#455A64"/>
  <text x="120" y="441" text-anchor="middle" fill="#fff" font-size="9" font-weight="700">kube-system</text>
  <rect x="90" y="458" width="175" height="26" rx="5" fill="#ECEFF1" stroke="#90A4AE" stroke-width="1"/>
  <text x="177" y="476" text-anchor="middle" fill="#37474F" font-size="10" font-weight="600">Sealed Secrets Controller</text>

  <!-- Backup -->
  <rect x="370" y="420" width="260" height="75" rx="6" fill="#fff" stroke="#455A64" stroke-width="1.5" filter="url(#shadow)"/>
  <rect x="380" y="428" width="55" height="18" rx="4" fill="#455A64"/>
  <text x="407" y="441" text-anchor="middle" fill="#fff" font-size="9" font-weight="700">backup</text>
  <rect x="390" y="458" width="175" height="26" rx="5" fill="#ECEFF1" stroke="#90A4AE" stroke-width="1"/>
  <text x="477" y="476" text-anchor="middle" fill="#37474F" font-size="10" font-weight="600">CronJob pg_dump Daily</text>
  <!-- Backup PVC -->
  <ellipse cx="595" cy="460" rx="22" ry="8" fill="#FFF3E0" stroke="#F5A623" stroke-width="1"/>
  <rect x="573" y="460" width="44" height="18" fill="#FFF3E0" stroke="#F5A623" stroke-width="1"/>
  <ellipse cx="595" cy="478" rx="22" ry="8" fill="#FFF3E0" stroke="#F5A623" stroke-width="1"/>
  <text x="595" y="474" text-anchor="middle" fill="#4a4a4a" font-size="8">PVC 5Gi</text>

  <!-- Traefik -->
  <rect x="670" y="420" width="260" height="75" rx="6" fill="#fff" stroke="#455A64" stroke-width="1.5" filter="url(#shadow)"/>
  <rect x="680" y="428" width="80" height="18" rx="4" fill="#455A64"/>
  <text x="720" y="441" text-anchor="middle" fill="#fff" font-size="9" font-weight="700">kube-system</text>
  <rect x="690" y="458" width="175" height="26" rx="5" fill="#ECEFF1" stroke="#90A4AE" stroke-width="1"/>
  <text x="777" y="476" text-anchor="middle" fill="#37474F" font-size="10" font-weight="600">Traefik Ingress Controller</text>

  <!-- Helm -->
  <rect x="970" y="420" width="260" height="75" rx="6" fill="#fff" stroke="#455A64" stroke-width="1.5" filter="url(#shadow)"/>
  <rect x="980" y="428" width="55" height="18" rx="4" fill="#455A64"/>
  <text x="1007" y="441" text-anchor="middle" fill="#fff" font-size="9" font-weight="700">tooling</text>
  <rect x="990" y="458" width="175" height="26" rx="5" fill="#ECEFF1" stroke="#90A4AE" stroke-width="1"/>
  <text x="1077" y="476" text-anchor="middle" fill="#37474F" font-size="10" font-weight="600">Bitnami Charts · Helm</text>

  <!-- Backup -> PG dashed arrow -->
  <polyline points="500,420 500,395 250,395 250,375" fill="none" stroke="#90A4AE" stroke-width="1.2" stroke-dasharray="4 2"/>
  <polygon points="246,378 250,370 254,378" fill="#90A4AE"/>
  <text x="375" y="390" text-anchor="middle" fill="#90A4AE" font-size="9" font-style="italic">pg_dump</text>

  <!-- ======== DIVIDER ======== -->
  <line x1="50" y1="630" x2="1350" y2="630" stroke="#B0BEC5" stroke-width="1" stroke-dasharray="6 4"/>
  <rect x="530" y="621" width="340" height="18" rx="4" fill="#fff"/>
  <text x="700" y="634" text-anchor="middle" fill="#78909C" font-size="10" font-style="italic">External Access — Local Area Network</text>

  <!-- ======== EXTERNAL CLIENTS ======== -->
  <!-- psql -->
  <rect x="130" y="660" width="130" height="40" rx="6" fill="#E8F5E9" stroke="#27AE60" stroke-width="2" filter="url(#shadow)"/>
  <text x="195" y="685" text-anchor="middle" fill="#1a1a1a" font-size="12" font-weight="700">psql CLI</text>
  <line x1="195" y1="660" x2="195" y2="290" stroke="#27AE60" stroke-width="2"/>
  <polygon points="191,293 195,285 199,293" fill="#27AE60"/>
  <text x="210" y="625" fill="#27AE60" font-size="9" font-weight="700">TCP :30432</text>

  <!-- redis-cli -->
  <rect x="530" y="660" width="130" height="40" rx="6" fill="#FFF3E0" stroke="#E67E22" stroke-width="2" filter="url(#shadow)"/>
  <text x="595" y="685" text-anchor="middle" fill="#1a1a1a" font-size="12" font-weight="700">redis-cli</text>
  <line x1="595" y1="660" x2="595" y2="290" stroke="#E67E22" stroke-width="2"/>
  <polygon points="591,293 595,285 599,293" fill="#E67E22"/>
  <text x="610" y="625" fill="#E67E22" font-size="9" font-weight="700">TCP :30379</text>

  <!-- browser -->
  <rect x="940" y="660" width="140" height="40" rx="6" fill="#F3E5F5" stroke="#8E44AD" stroke-width="2" filter="url(#shadow)"/>
  <text x="1010" y="685" text-anchor="middle" fill="#1a1a1a" font-size="12" font-weight="700">Web Browser</text>
  <line x1="1010" y1="660" x2="1010" y2="290" stroke="#8E44AD" stroke-width="2"/>
  <polygon points="1006,293 1010,285 1014,293" fill="#8E44AD"/>
  <text x="1025" y="625" fill="#8E44AD" font-size="9" font-weight="700">HTTP :30080</text>

  <!-- ======== CI/CD + Docker Hub ======== -->
  <rect x="1255" y="140" width="175" height="45" rx="6" fill="url(#gCI)" filter="url(#shadow)"/>
  <text x="1342" y="168" text-anchor="middle" fill="#fff" font-size="12" font-weight="700">GitHub Actions CI/CD</text>

  <rect x="1275" y="215" width="135" height="35" rx="6" fill="#1565C0" filter="url(#shadow)"/>
  <text x="1342" y="238" text-anchor="middle" fill="#fff" font-size="11" font-weight="700">Docker Hub</text>

  <!-- CI -> Docker Hub arrow -->
  <line x1="1342" y1="185" x2="1342" y2="215" stroke="#1565C0" stroke-width="1.5"/>
  <polygon points="1338,212 1342,220 1346,212" fill="#1565C0"/>

  <!-- CI -> App dashed arrow -->
  <polyline points="1255,162 1230,162 1230,207 1112,207" fill="none" stroke="#455A64" stroke-width="1.5" stroke-dasharray="4 2"/>
  <polygon points="1115,203 1107,207 1115,211" fill="#455A64"/>
  <text x="1190" y="155" fill="#455A64" font-size="8" font-weight="700">build &amp; push</text>

  <!-- ======== LEGEND ======== -->
  <rect x="1130" y="660" width="230" height="100" rx="6" fill="#FAFAFA" stroke="#E0E0E0"/>
  <text x="1150" y="680" fill="#1a1a1a" font-size="12" font-weight="700">Legend</text>
  <!-- Namespace -->
  <rect x="1150" y="692" width="18" height="12" rx="3" fill="#fff" stroke="#27AE60" stroke-width="1.5"/>
  <text x="1178" y="702" fill="#37474F" font-size="9">Namespace</text>
  <!-- NodePort -->
  <rect x="1150" y="712" width="18" height="12" rx="3" fill="#FDEDEC" stroke="#E74C3C" stroke-width="1.5"/>
  <text x="1178" y="722" fill="#37474F" font-size="9">NodePort Service</text>
  <!-- PVC -->
  <rect x="1150" y="732" width="18" height="12" rx="3" fill="#FFF3E0" stroke="#F5A623" stroke-width="1.5"/>
  <text x="1178" y="742" fill="#37474F" font-size="9">Persistent Volume</text>
  <!-- Infra -->
  <rect x="1270" y="692" width="18" height="12" rx="3" fill="#ECEFF1" stroke="#90A4AE" stroke-width="1.5"/>
  <text x="1298" y="702" fill="#37474F" font-size="9">Infrastructure</text>
  <!-- Data flow -->
  <line x1="1270" y1="718" x2="1290" y2="718" stroke="#27AE60" stroke-width="2" stroke-dasharray="4 2"/>
  <text x="1298" y="722" fill="#37474F" font-size="9">Data Flow</text>

</svg>